let json = [
    {
        "ID": 1,
        "QUESTION": "Busco melhoria contínua"
    },
    {
        "ID": 2,
        "QUESTION": "Sou bom(a) conselheiro(a)"
    },
    {
        "ID": 3,
        "QUESTION": "Vivo plenamente"
    },
    {
        "ID": 4,
        "QUESTION": "Prefiro dar a receber"
    },
    {
        "ID": 5,
        "QUESTION": "Não consigo dizer não"
    },
    {
        "ID": 6,
        "QUESTION": "Procuro ser sempre direto(a) e pontual"
    },
    {
        "ID": 7,
        "QUESTION": "Vou fundo em minhas convicções"
    },
    {
        "ID": 8,
        "QUESTION": "Sinto-me em segurança neste mundo"
    },
    {
        "ID": 9,
        "QUESTION": "Disciplina é a chave para o sucesso"
    },
    {
        "ID": 10,
        "QUESTION": "Tenho boas ideias, mas não as coloco em prática por falta de tempo"
    },
    {
        "ID": 11,
        "QUESTION": "Sou uma pessoa calma. Sou tranquilo(a)"
    },
    {
        "ID": 12,
        "QUESTION": "Um pouquinho de caos não faz mal a ninguém"
    },
    {
        "ID": 13,
        "QUESTION": "O ser humano é maravilhoso"
    },
    {
        "ID": 14,
        "QUESTION": "Sinto-me bem unindo pessoas"
    },
    {
        "ID": 15,
        "QUESTION": "Enxergo a verdadeira imagem por trás das aparências"
    },
    {
        "ID": 16,
        "QUESTION": "Em meio ao tédio busco fazer mudanças bruscas"
    },
    {
        "ID": 17,
        "QUESTION": "Não faço julgamento em minhas análises pessoais"
    },
    {
        "ID": 18,
        "QUESTION": "Busco sempre melhorar a minha vida"
    },
    {
        "ID": 19,
        "QUESTION": "Consigo exercer papel de líder"
    },
    {
        "ID": 20,
        "QUESTION": "Às vezes consigo ser eficiente sem me esforçar demais"
    },
    {
        "ID": 21,
        "QUESTION": "Fui uma criança, malcuidada, desleixada e iludida"
    },
    {
        "ID": 22,
        "QUESTION": "Fico feliz quando consigo mudar uma situação"
    },
    {
        "ID": 23,
        "QUESTION": "Incentivo o desenvolvimento das pessoas e da natureza"
    },
    {
        "ID": 24,
        "QUESTION": "Sinto-me uma pessoa atraente"
    },
    {
        "ID": 25,
        "QUESTION": "Minha vida muda de acordo com meus pensamentos"
    },
    {
        "ID": 26,
        "QUESTION": "Acredito que podemos enxergar as coisas por várias perspectivas"
    },
    {
        "ID": 27,
        "QUESTION": "Sou uma pessoa segura"
    },
    {
        "ID": 28,
        "QUESTION": "Esperei demais de mim mesmo"
    },
    {
        "ID": 29,
        "QUESTION": "Sinto-me bem quando faço as pessoas se divertirem"
    },
    {
        "ID": 30,
        "QUESTION": "A hostilidade não me intimida"
    },
    {
        "ID": 31,
        "QUESTION": "Tenho a tendência de confiar nas pessoas de imediato"
    },
    {
        "ID": 32,
        "QUESTION": "Busco acalmar os ânimos em busca de um bem comum"
    },
    {
        "ID": 33,
        "QUESTION": "Gosto de comandar"
    },
    {
        "ID": 34,
        "QUESTION": "Apego-me à espiritualidade para conseguir realizar minhas tarefas"
    },
    {
        "ID": 35,
        "QUESTION": "Há um mundo melhor a minha espera"
    },
    {
        "ID": 36,
        "QUESTION": "Minhas palavras ou ações fazem com que os outros se sintam humilhados"
    },
    {
        "ID": 37,
        "QUESTION": "Enxergo a vida como uma sequência de infortúnios e dor"
    },
    {
        "ID": 38,
        "QUESTION": "Não me reconheço mais"
    },
    {
        "ID": 39,
        "QUESTION": "Sinto-me intimidado(a) por pessoas em posição liderança"
    },
    {
        "ID": 40,
        "QUESTION": "Penso antes nos outros e depois em mim mesmo(a)"
    },
    {
        "ID": 41,
        "QUESTION": "Sou consistente com as ações que preciso executar para atingir meus objetivos"
    },
    {
        "ID": 42,
        "QUESTION": "Faço para os outros, mas não consigo fazer para mim"
    },
    {
        "ID": 43,
        "QUESTION": "Sinto prazer em cuidar dos outros"
    },
    {
        "ID": 44,
        "QUESTION": "Prezo pela minha autonomia e minha liberdade"
    },
    {
        "ID": 45,
        "QUESTION": "Não me isento de agir perante a uma injustiça"
    },
    {
        "ID": 46,
        "QUESTION": "Penso que nem todas as regras precisam ser cumpridas"
    },
    {
        "ID": 47,
        "QUESTION": "No mundo, tudo está conectado"
    },
    {
        "ID": 48,
        "QUESTION": "As pessoas me acham extrovertido(a)"
    },
    {
        "ID": 49,
        "QUESTION": "A inspiração vem facilmente para mim"
    },
    {
        "ID": 50,
        "QUESTION": "Sou sempre eu mesmo(a) independente de onde eu esteja"
    },
    {
        "ID": 51,
        "QUESTION": "Esforço-me para criar minha própria realidade"
    },
    {
        "ID": 52,
        "QUESTION": "Contribuir com outras pessoas me fez muito bem"
    },
    {
        "ID": 53,
        "QUESTION": "Sinto que as pessoas são boas e não têm maldade"
    },
    {
        "ID": 54,
        "QUESTION": "Sempre achei melhor amar e perder do que nunca ter amado"
    },
    {
        "ID": 55,
        "QUESTION": "A jornada é tão importante quanto o destino"
    },
    {
        "ID": 56,
        "QUESTION": "Sei que se precisar de cuidados, não estarei só"
    },
    {
        "ID": 57,
        "QUESTION": "Mudanças fazem-me sentir desorientado"
    },
    {
        "ID": 58,
        "QUESTION": "Sinto-me como se estivesse sido deixado(a) para trás"
    },
    {
        "ID": 59,
        "QUESTION": "Consigo distribuir as atividades certas para pessoas certas com base em suas habilidades"
    },
    {
        "ID": 60,
        "QUESTION": "Sou uma pessoa que mantém o olhar voltado para o futuro"
    },
    {
        "ID": 61,
        "QUESTION": "Minha realidade é a materialização do meu sonho"
    },
    {
        "ID": 62,
        "QUESTION": "Tenho necessidade de algum tipo de rompimento"
    },
    {
        "ID": 63,
        "QUESTION": "Sinto-me destemido(a) diante de um desafio e não temo em realizá-lo(a)"
    },
    {
        "ID": 64,
        "QUESTION": "Fui decepcionado(a) por pessoas que eram importantes em minha vida"
    },
    {
        "ID": 65,
        "QUESTION": "Estar bem e saudável faz com que eu sinta mais disposto(a) no processo de cura dos outros"
    },
    {
        "ID": 66,
        "QUESTION": "Fui deixado para trás pelas pessoas que mais confiei"
    },
    {
        "ID": 67,
        "QUESTION": "Encontro completude nas minhas relações pessoais"
    },
    {
        "ID": 68,
        "QUESTION": "Algo me incomoda"
    },
    {
        "ID": 69,
        "QUESTION": "Por vezes, minha presença em um ambiente contribui para que mudanças aconteçam"
    },
    {
        "ID": 70,
        "QUESTION": "Estou em processo de desapego de coisas que já não fazem mais sentido em minha vida"
    },
    {
        "ID": 71,
        "QUESTION": "Gosto de colocar sorriso no rosto das pessoas mais improváveis"
    },
    {
        "ID": 72,
        "QUESTION": "Acredito que terei sempre tudo que me for necessário"
    }
];

$(document).ready(function () {
    let container_all_questions = document.getElementById("container_cards")


    function criarPergunta(question) {
        let pergunta_container = document.createElement("div")
        pergunta_container.className = 'pergunta_opcoes'
        pergunta_container.setAttribute('step', question.ID)
        pergunta_container.setAttribute('id', 'card')

        pergunta_container.appendChild(document.createElement("span"))
        pergunta_container.children[0].innerText = question.QUESTION



        let div = document.createElement("div")
        div.className = 'form-group'

        let messageDiv = document.createElement("div")
        messageDiv.className = 'mensagem-div'
        messageDiv.id = 'mensagem-div-'+question.ID;


        pergunta_container.appendChild(div)
        pergunta_container.appendChild(messageDiv)

        container_all_questions.appendChild(pergunta_container)

        for (let i = 0; i <= 5; i++) {


            let select = document.createElement("label")
            select.className = 'custom-radio-btn'
            select.appendChild(document.createElement("input"))
            select.children[0].setAttribute("name", "opcoes")
            select.children[0].setAttribute("type", "radio")
            select.children[0].setAttribute("value", i + 1)
            select.children[0].setAttribute("class", "display-option")


            // select.children[0].setAttribute("onclick" , "displayMessage("+i+")");


            if(i == 2){
                select.children[0].setAttribute("checked", 'checked')

                messageDiv.classList.add('neutro')
                messageDiv.innerText = 'Neutro'

            }

            let selectorString = question.ID + '-' + i + 1
            select.children[0].setAttribute("name", question.ID)

            select.children[0].setAttribute("id", selectorString)

            select.appendChild(document.createElement("span"))
            select.children[1].className = 'checkmark'
            select.children[1].setAttribute('for', selectorString)

            pergunta_container.children[1].appendChild(select)
            setDisplayMessengers()
        }

    }

    
    function seguir_voltar() {
        for (let i = 2; i < container_all_questions.length; i++) {
            container_all_questions.children[i].remove
        }
    }


    let windowWidth = window.innerWidth;
    let size = 4

    // if (windowWidth < 1000) {
    //     size = 2;
    // }
    // if (windowWidth < 800) {
    //     size = 3;
    // }
    let step = 0



    $(window).resize(function () {

        let windowWidth = window.innerWidth;
        let size = 4

        if (windowWidth > 996 && windowWidth < 1002) {
            // size = 2;
            location.reload();

        }
        if (windowWidth < 800 && windowWidth > 795) {
            // size = 1;
            location.reload();

        }

    });

    function addCards(step, size) {

        for (let i = 0; i < size; i++) {
            criarPergunta(json[step]);
            step++;
        }
        let lastStep = step;
        return lastStep;
    }

    let lastStep =  addCards(step, size);
    updateCounter(lastStep);


    function loadCards() {
        let cards = document.querySelectorAll('#card')
        let lastCard = $('#card:last-child')
        let lastStep = lastCard.attr('step')

        cards.forEach((item) => {
            item.classList.add('invisible')
        })
        
        if(lastStep == json.length){
            setMessager()
            initContactForm()
            return
        }

       let finalStep =  addCards(lastStep, size)
        updateCounter(finalStep);
    }
    $('#seta_seguir').click(() => {
        loadCards()
        setDisplayMessengers()

    })


    function updateCounter(step)
    {
        let counter = document.getElementById('counter')

        let painel = ''+step+'/'+json.length
        counter.innerText = painel
    }

    function setMessager()
    {
        let message = 'Obrigado por responder nosso formulario, deixe-nos saber seu nome e e-mail'
        let messager = document.getElementById('messenger')
        messager.innerText = message
    }

    
    function initContactForm(){

        let botaoSetaSeguir = document.getElementById('seta_seguir')
        botaoSetaSeguir.remove()

        let form = document.getElementById('form')
        let button = document.createElement('button')


        button.setAttribute('type' , 'submit')
        button.setAttribute('style' , 'margin-bottom:40px');
        button.classList.add('button-submit')
        button.innerText = 'Enviar'


        let divContact = document.createElement('div')
        divContact.classList.add('form-group')
        divContact.classList.add('contact-form')


    
        let nameInput = document.createElement('input')
        nameInput.setAttribute('type' , 'text')
        nameInput.setAttribute('placeholder' , 'Nome')
        nameInput.setAttribute('name' , 'nome')

           
        let emailInput = document.createElement('input')
        emailInput.setAttribute('type' , 'text')
        emailInput.setAttribute('name' , 'email')
        emailInput.setAttribute('placeholder' , 'Email')




        let divTerapeuta = document.createElement('div')

        divTerapeuta.className = 'form-group divterapeuta'




        let terapeutaInput = document.createElement('input')

        terapeutaInput.setAttribute('type' , 'radio')
        terapeutaInput.setAttribute('name' , 'terapeut')
        terapeutaInput.setAttribute('value' , true)

        let tereutaLabel = document.createElement('label')
        tereutaLabel.innerText = 'Sou Psicólogo / Já sou Terapueta / Em formação para ser Terapeuta'

        
        let naoTerapeutaInput = document.createElement('input')

        naoTerapeutaInput.setAttribute('type' , 'radio')
        naoTerapeutaInput.setAttribute('name' , 'terapeut')
        naoTerapeutaInput.setAttribute('value' , false)

        let naoTerapeutaLabel = document.createElement('label')
        naoTerapeutaLabel.innerText = 'Não sou terapeuta'


        let terapeutaInputDiv = document.createElement('div')
        let naoterapeutaInputDiv = document.createElement('div')

        terapeutaInputDiv.setAttribute('class', 'optiondiv')
        naoterapeutaInputDiv.setAttribute('class', 'optiondiv')


        terapeutaInputDiv.appendChild(terapeutaInput)
        terapeutaInputDiv.appendChild(tereutaLabel)

        naoterapeutaInputDiv.appendChild(naoTerapeutaInput)
        naoterapeutaInputDiv.appendChild(naoTerapeutaLabel)

        



        divTerapeuta.appendChild(terapeutaInputDiv)
        divTerapeuta.appendChild(naoterapeutaInputDiv)



        divContact.appendChild(nameInput)
        divContact.appendChild(emailInput)
        divContact.appendChild(divTerapeuta);
        divContact.appendChild(divTerapeuta);

        // divContact.appendChild(tereutaLabel)
        // divContact.appendChild(terapeutaInput)



        divContact.appendChild(button)

        form.append(divContact)

    }

    function setDisplayMessengers(){
        $('.display-option').on('click' , function(){

            // this.displayMessage = '';
            // this.className = '';
    
            console.log(this.value);
            console.log(this.name);
    
    
            if(this.value == 1)
            {
                displayMessage = 'Discordo totalmente'
                className = 'negativo'
            }
    
            if(this.value == 2)
            {
    
                displayMessage = 'Discordo parcialmente'
                className = 'negativo'
            }
            if(this.value == 3)
            {
    
                displayMessage = 'Neutro'
                className = 'neutro'
            }
            if(this.value == 4)
            {
    
                displayMessage = 'Concordo parcialmente'
                className = 'positivo'
            }
            if(this.value == 5)
            {
                displayMessage = 'Concordo totalmente'
                className = 'positivo'
            }
    
            let divmessage = $('#mensagem-div-'+this.name);
         
    
            divmessage.removeClass('positivo');
            divmessage.removeClass('neutro');
            divmessage.removeClass('negativo');
    
    
            divmessage.addClass(className);
            divmessage.text('');
            divmessage.html(displayMessage);
    
    
        })
    }

    
})